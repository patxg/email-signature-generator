<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Signature Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .signature {
            border: 1px solid #000;
            padding: 10px;
            width: 450px; /* Optimized for both mobile and desktop */
            background-color: #fff;
            color: #113213f;
            font-family: Arial, sans-serif;
        }
        .signature img {
            vertical-align: middle;
            max-width: 100%; /* Ensure images fit within the signature width */
            height: auto;
        }
        .button {
            background-color: #00A86B; /* Updated color */
            color: #fff;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            font-size: 16px;
            border-radius: 5px;
            margin: 10px 10px 10px 0;
            display: inline-block;
        }
        .form-group {
            margin-bottom: 10px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <div style="display: flex; align-items: center;">
        <img src="https://raw.githubusercontent.com/patxg/email-signature-generator/main/assets/logo.png?raw=true" alt="Logo" style="width: 50px; margin-right: 10px;">
        <h1>Email Signature Generator</h1>
    </div>
    <div class="form-group">
        <label for="fname">First Name</label>
        <input type="text" id="fname">
    </div>
    <div class="form-group">
        <label for="lname">Last Name</label>
        <input type="text" id="lname">
    </div>
    <div class="form-group">
        <label for="title">Title</label>
        <input type="text" id="title">
    </div>
    <div class="form-group">
        <label for="phone">Phone Number</label>
        <input type="text" id="phone" maxlength="12" oninput="formatPhoneNumber(this)">
    </div>
    <button class="button" onclick="generateSignature()">Generate Signature</button>
    <button class="button" onclick="resetForm()" style="background-color: #ff0000;">Reset</button>
    <a id="download-link" class="button" download="signature.html">
        <img src="https://github.com/patxg/email-signature-generator/blob/main/assets/Download_Button.png?raw=true" alt="Download Button" style="vertical-align: middle;">
    </a>
    
    <div id="signature-container" class="signature"></div>

    <script>
        const website = "ReefPointGroup.com";
        const linkedInURL = "https://www.linkedin.com/company/reefpointgroup/mycompany/";

        function formatPhoneNumber(input) {
            // Remove non-digit characters
            let cleaned = input.value.replace(/\D/g, '');
            // Limit to 10 digits
            cleaned = cleaned.substring(0, 10);
            // Format the phone number
            let formatted = '';
            if (cleaned.length > 0) {
                formatted += cleaned.substring(0, 3);
            }
            if (cleaned.length >= 4) {
                formatted += ' ' + cleaned.substring(3, 6);
            }
            if (cleaned.length >= 7) {
                formatted += ' ' + cleaned.substring(6, 10);
            }
            input.value = formatted;
        }

        function generateSignature() {
            const fname = document.getElementById('fname').value;
            const lname = document.getElementById('lname').value;
            const title = document.getElementById('title').value;
            const phone = document.getElementById('phone').value;

            const linkedinSrc = 'https://raw.githubusercontent.com/patxg/email-signature-generator/main/assets/linkedin.png?raw=true';
            const webSrc = 'https://raw.githubusercontent.com/patxg/email-signature-generator/main/assets/web.png?raw=true';
            const logoSrc = 'https://raw.githubusercontent.com/patxg/email-signature-generator/main/assets/logo.png?raw=true';
            const footerSrc = 'https://raw.githubusercontent.com/patxg/email-signature-generator/main/assets/Footer.png?raw=true';

            const signatureHTML = `
                <html>
                <head>
                    <title>Email Signature</title>
                </head>
                <body style="font-family: Arial, sans-serif; color: #113213f;">
                    <div style="border: 1px solid #000; padding: 10px; width: 450px; background-color: #fff;">
                        <table style="width: 100%; border-spacing: 0; border-collapse: collapse;">
                            <tr>
                                <td rowspan="4" style="width: 100px; text-align: center; vertical-align: middle;">
                                    <img src="${logoSrc}" alt="Company Logo" style="width: 100%;">
                                </td>
                                <td style="font-size: 14px; font-weight: bold;">
                                    ${fname}
                                </td>
                                <td style="font-size: 14px; font-weight: bold;">
                                    ${lname}
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" style="font-size: 12px; font-style: italic;">
                                    ${title}
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" style="font-size: 12px;">
                                    ${phone}
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 16px;">
                                    <img src="${linkedinSrc}" alt="LinkedIn" style="width: 16px;">
                                </td>
                                <td>
                                    <div style="display: flex; align-items: center;">
                                        <img src="${webSrc}" alt="Web" style="width: 16px; margin-right: 5px;">
                                        <a href="https://${website}" target="_blank" style="color: inherit; text-decoration: none; font-size: 13px; font-weight: bold;">${website}</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align: center;">
                                    <img src="${footerSrc}" alt="Footer" style="width: 100%;">
                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align: center; font-size: 13px; font-weight: bold;">
                                    We Serve. We Innovate. We Empower.
                                </td>
                            </tr>
                        </table>
                    </div>
                </body>
                </html>
            `;

            document.getElementById('signature-container').innerHTML = `
                <div style="border: 1px solid #000; padding: 10px; width: 450px; background-color: #fff; color: #113213f; font-family: Arial, sans-serif;">
                    <table style="width: 100%; border-spacing: 0; border-collapse: collapse;">
                        <tr>
                            <td rowspan="4" style="width: 100px; text-align: center; vertical-align: middle;">
                                <img src="${logoSrc}" alt="Company Logo" style="width: 100%;">
                            </td>
                            <td style="font-size: 14px; font-weight: bold;">
                                ${fname}
                            </td>
                            <td style="font-size: 14px; font-weight: bold;">
                                ${lname}
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="font-size: 12px; font-style: italic;">
                                ${title}
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="font-size: 12px;">
                                ${phone}
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 16px;">
                                <img src="${linkedinSrc}" alt="LinkedIn" style="width: 16px;">
                            </td>
                            <td>
                                <div style="display: flex; align-items: center;">
                                    <img src="${webSrc}" alt="Web" style="width: 16px; margin-right: 5px;">
                                    <a href="https://${website}" target="_blank" style="color: inherit; text-decoration: none; font-size: 13px; font-weight: bold;">${website}</a>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" style="text-align: center;">
                                <img src="${footerSrc}" alt="Footer" style="width: 100%;">
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" style="text-align: center; font-size: 13px; font-weight: bold;">
                                We Serve. We Innovate. We Empower.
                            </td>
                        </tr>
                    </table>
                </div>
            `;

            const blob = new Blob([signatureHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const downloadLink = document.getElementById('download-link');
            downloadLink.href = url;
            downloadLink.style.display = 'inline';
        }

        function resetForm() {
            document.getElementById('fname').value = '';
            document.getElementById('lname').value = '';
            document.getElementById('title').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('signature-container').innerHTML = '';
            const downloadLink = document.getElementById('download-link');
            downloadLink.style.display = 'none';
        }
    </script>
</body>
</html>
